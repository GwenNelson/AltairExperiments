			; Front panel echo
			;
			; This program echos the input from the sense switches into the left 8 memory bus LEDs
			
     5 0000 01 0F 00	        lxi  b,000fh  ; init timer delay value for timer, we set this quite high because fast feedback is important
			
				include display.asm
			; this routine takes as input the following:
			;       DE: the display value
			;       BC: the delay value for display timer - the bigger the value the less time the display is lit up for
			; the following registers are clobbered:
			;       A
			;       BC
			;       HL
     8 0003 C3 12 00		jmp disp_inc_end
			display_out:
    10 0006 21 00 00	        lxi  h,0000h  ; init h:l for timer
			        ; we display the contents of the output register by repeating this in a loop
			disp_out_loop:
    13 0009 1A		        ldax d
    14 000A 1A		        ldax d
    15 000B 1A		        ldax d
    16 000C 1A		        ldax d
    17 000D 09		        dad  b
    18 000E D2 09 00	        jnc  disp_out_loop
    19 0011 C9		        ret
			
			disp_inc_end:
			
			main_loop
    10 0012 DB FF		in 0ffh	; read the sense switches
    11 0014 57			mov d,a ; load the read value into display register
    12 0015 CD 06 00		call display_out
    13 0018 C3 12 00		jmp main_loop
			


*******************************************************************************
                                 Symbols table
*******************************************************************************

Names			Types	Values
-----			-----	------
display_out		Label	00006h
disp_out_loop		Label	00009h
disp_inc_end		Label	00012h
main_loop		Label	00012h

Statistics
----------
"Name"	= 0
"EQU"	= 0
"SET"	= 0
Labels	= 4


